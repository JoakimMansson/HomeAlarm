WindowManager:

    StartScreen:
    HomeScreen:
    SettingsScreen:
    CameraScreen:
    SchemeScreen:

<StartScreen>:


<HomeScreen>:
    name: "Home"
    alarm_status: alarm_status
    alarm_btn: alarm_btn
    scheme_btn: scheme_btn
    camera_btn: camera_btn
    last_armed: last_armed

    MDFloatLayout:
        size: root.width, root.height
        md_bg_color: (1, 1, 1, 1)

        MDToolbar:
            title: "Bottom Navbar"

        MDBottomNavigation:
            md_bg_color: (1, 1, 1, 1)


            MDBottomNavigationItem:
                name: "home"
                icon: "shield"
                on_tab_press:
                    root.manager.current = "Home"
                    root.manager.transition.direction = 'right'

            MDBottomNavigationItem:
                name: "settings"
                icon: "cog"
                on_tab_press:
                    root.manager.current = "Settings"
                    root.manager.transition.direction = 'left'




        MDFillRoundFlatButton:
            id: alarm_btn
            text: ""
            text_color: (1, 1, 1, 1)
            md_bg_color: (0, 0, 0, 1)
            font_size: "18sp"
            pos_hint: {"center_x": 0.5, "center_y": 0.49}
            on_press: root.alarm_action()


        MDFillRoundFlatIconButton:
            id: scheme_btn
            icon: "arrow-right-bold"
            text: "Schemalägg larm"
            text_color: (1, 1, 1, 1)
            md_bg_color: (0, 0, 0, 1)
            font_size: "18sp"
            size_hint_x: "0.8sp"
            pos_hint: {"center_x": 0.5, "center_y": 0.24}
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = "Scheme"


        MDFillRoundFlatIconButton:
            id: camera_btn
            icon: "arrow-right-bold"
            text: "Kamera"
            text_color: (1, 1, 1, 1)
            md_bg_color: (0, 0, 0, 1)
            font_size: "18sp"
            size_hint_x: "0.8sp"
            pos_hint: {"center_x": 0.5, "center_y": 0.34}
            on_press:
                root.manager.transition.direction = 'left'
                root.manager.current = "Camera"

        Label:
            id: last_armed
            text: ""
            font_size: "15sp"
            color: (0, 0, 0, 1)
            pos_hint: {"center_x": 0.5, "center_y": 0.57}

        Label:
            text: "JSecure"
            font_size: "45sp"
            color: (0, 0, 0, 1)
            pos_hint: {"center_x": 0.5, "center_y": 0.9}


        Image:
            id: alarm_status
            source: "Images/Active.png"
            width: "15sp"
            size_hint_y: 0.2
            allow_stretch: True
            pos_hint: {"center_x": 0.5, "center_y": 0.7}



<SettingsScreen>:
    name: "Settings"

    MDFloatLayout:
        size: root.width, root.height
        md_bg_color: (1, 1, 1, 1)

        MDBottomNavigation:
            md_bg_color: (1, 1, 1, 1)


            MDBottomNavigationItem:
                name: "home"
                icon: "shield"
                on_tab_press:
                    root.manager.current = "Home"
                    root.manager.transition.direction = 'right'

            MDBottomNavigationItem:
                name: "settings"
                icon: "cog"
                on_tab_press:
                    root.manager.current = "Settings"
                    root.manager.transition.direction = 'left'



        Label:
            text: "Inställningar"
            font_size: "54sp"
            color: (0, 0, 0, 1)
            pos_hint: {"center_x": 0.5, "center_y": 0.9}

        MDFillRoundFlatIconButton:
            md_bg_color: (0, 0, 0, 1)
            text: "Starta om larmenhet"
            icon: "restart"
            pos_hint: {"center_x": 0.5, "center_y": 0.65}

        MDFillRoundFlatIconButton:
            md_bg_color: (0, 0, 0, 1)
            text: "Kontakta teknisk support"
            icon: "human-greeting-proximity"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

<CameraScreen>:
    name: "Camera"

    MDFloatLayout:
        size: root.width, root.height
        md_bg_color: (1, 1, 1, 1)

        Label:
            text: "Kamera"
            font_size: "45sp"
            color: (0, 0, 0, 1)
            pos_hint: {"center_x": 0.5, "center_y": 0.9}

        MDFillRoundFlatIconButton:
            text: "bild"
            icon: "camera"
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            md_bg_color: (0, 0, 0, 1)
            on_press: root.RequestPicture()


        MDFillRoundFlatIconButton:
            text: "10 sekunders video"
            icon: "message-video"
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            md_bg_color: (0, 0, 0, 1)
            on_press: root.Request10Video()

        MDFillRoundFlatIconButton:
            text: "20 sekunders video"
            icon: "message-video"
            pos_hint: {"center_x": 0.5, "center_y": 0.3}
            md_bg_color: (0, 0, 0, 1)
            on_press: root.Request20Video()


        MDIconButton:   #GoToHome
            icon: "arrow-left-thick"
            icon_size: "64sp"
            pos_hint: {"center_x": 0.05, "center_y": 0.9}
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = "Home"



<SchemeScreen>:
    name: "Scheme"
    start_time: start_time
    end_time: end_time

    MDFloatLayout:
        size: root.width, root.height
        md_bg_color: (1, 1, 1, 1)

        Label:
            text: "Schemalägg"
            font_size: "45sp"
            color: (0, 0, 0, 1)
            pos_hint: {"center_x": 0.5, "center_y": 0.9}

        Label:
            id: start_time
            text: "--:--"
            font_size: "45sp"
            color: (0, 0, 0, 1)
            pos_hint: {"center_x": 0.5, "center_y": 0.69}

        MDFillRoundFlatIconButton:
            md_bg_color: (0, 0, 0, 1)
            text: "Start tid"
            icon: "alarm"
            pos_hint: {"center_x": 0.5, "center_y": 0.6}
            on_press: root.pick_time_start()

        Label:
            id: end_time
            text: "--:--"
            font_size: "45sp"
            color: (0, 0, 0, 1)
            pos_hint: {"center_x": 0.5, "center_y": 0.49}

        MDFillRoundFlatIconButton
            md_bg_color: (0, 0, 0, 1)
            text: "Slut tid"
            icon: "alarm"
            pos_hint: {"center_x": 0.5, "center_y": 0.4}
            on_press: root.pick_time_end()

        MDFillRoundFlatIconButton
            md_bg_color: (0, 210/255, 0, 1)
            text: "Spara schemaläggning"
            icon: "plus-circle-outline"
            pos_hint: {"center_x": 0.5, "center_y": 0.15}
            on_press: root.save_time_scheme()

        MDFillRoundFlatIconButton
            md_bg_color: (1, 0, 0, 1)
            text: "Ta bort schemaläggning"
            icon: "minus-circle-outline"
            pos_hint: {"center_x": 0.5, "center_y": 0.05}
            on_press: root.delete_time_scheme()


        MDIconButton:   #GoToHome
            icon: "arrow-left-thick"
            icon_size: "64sp"
            pos_hint: {"center_x": 0.05, "center_y": 0.9}
            on_press:
                root.manager.transition.direction = 'right'
                root.manager.current = "Home"
